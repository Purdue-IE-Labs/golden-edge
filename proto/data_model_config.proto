syntax = "proto3";

import "type.proto";
import "props.proto";

// Although both path and version can be found in the keyspace, we include them 
// here for traceability back to where we originally got the model
message DataModelConfig {
    DataModelType type = 1;
    string extends_path = 2;
    uint32 version = 3;
	repeated DataModelItemConfig items = 4;
}

message DataModelItemConfig {
    string path = 1;
    DataObjectConfig config = 2;
}

message DataObjectConfig {
    oneof config {
        BaseType base_config = 1;
        DataModelConfig data_model_config = 2;
    }
    Props props = 3;
}

message DataModelConfigFetched {
    DataModelType type = 1;
    string extends_path = 2;
    uint32 version = 3;
    repeated DataModelItemConfigFetched items = 4;
}

message DataModelItemConfigFetched {
    string path = 1;
    DataObjectConfigFetched config = 2;
}

message DataObjectConfigFetched {
    oneof config {
        BaseType base_config = 1;
        DataModelConfigFetched data_model_config = 2;
    }
    Props props = 3;
}
